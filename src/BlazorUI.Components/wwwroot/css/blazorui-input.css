/* BlazorUI Components - Pre-built Tailwind CSS */
@config "../../tailwind.config.js";
@import 'tailwindcss';

/* Configure source paths for scanning Razor files */
@source "../../Components";

/* Component structural variables */
@layer base {
  :root {
    --sidebar-width: 16rem;
    --sidebar-width-mobile: 18rem;
    --sidebar-width-icon: 3rem;
  }
}

/* Required for keyboard navigation visual feedback in Select/Combobox/DropdownMenu */
@layer components {
  [role="option"][data-focused="true"] {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }
}

/* Global theme overrides - utilities layer ensures these override Tailwind's reset */
@layer utilities {
  * {
    border-color: var(--border);
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans);
  }

  /* Grid animation utilities for Accordion/Collapsible */
  .grid-rows-\[0fr\] {
    grid-template-rows: 0fr;
  }

  .grid-rows-\[1fr\] {
    grid-template-rows: 1fr;
  }

  .data-\[state\=open\]\:grid-rows-\[1fr\][data-state="open"] {
    grid-template-rows: 1fr;
  }

  .transition-\[grid-template-rows\] {
    transition-property: grid-template-rows;
    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));
    transition-duration: var(--tw-duration, var(--default-transition-duration));
  }
}

/* Rich Text Editor (Quill.js) styles */
@layer components {
  /* Toolbar styling - override Quill's default borders */
  [data-slot="rich-text-editor"] .ql-toolbar.ql-snow {
    border: none;
    border-bottom: 1px solid var(--border);
    padding: 0.5rem;
    background-color: oklch(from var(--muted) l c h / 0.4);
  }

  /* Container styling */
  [data-slot="rich-text-editor"] .ql-container.ql-snow {
    border: none;
    font-family: inherit;
    font-size: inherit;
  }

  /* Editor content area */
  [data-slot="rich-text-editor"] .ql-editor {
    min-height: inherit;
    padding: 0.75rem;
    color: var(--foreground);
  }

  /* Placeholder styling */
  [data-slot="rich-text-editor"] .ql-editor.ql-blank::before {
    color: var(--muted-foreground);
    font-style: normal;
    left: 0.75rem;
    right: 0.75rem;
  }

  /* Toolbar button styling */
  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button {
    width: 1.75rem;
    height: 1.75rem;
    padding: 0.25rem;
    border-radius: 0.25rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button:hover,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button:hover {
    background-color: var(--accent);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button.ql-active,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button.ql-active {
    background-color: var(--accent);
  }

  /* Toolbar SVG colors */
  [data-slot="rich-text-editor"] .ql-snow .ql-stroke {
    stroke: var(--foreground);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-fill {
    fill: var(--foreground);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker {
    color: var(--foreground);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button:hover .ql-stroke,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button:hover .ql-stroke,
  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button.ql-active .ql-stroke,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button.ql-active .ql-stroke {
    stroke: var(--foreground);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button:hover .ql-fill,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button:hover .ql-fill,
  [data-slot="rich-text-editor"] .ql-snow .ql-toolbar button.ql-active .ql-fill,
  [data-slot="rich-text-editor"] .ql-snow.ql-toolbar button.ql-active .ql-fill {
    fill: var(--foreground);
  }

  /* Toolbar picker styling */
  [data-slot="rich-text-editor"] .ql-snow .ql-picker-label {
    border-color: transparent;
    border-radius: 0.25rem;
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker-label:hover {
    background-color: var(--accent);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker-label::before {
    color: var(--foreground);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker-options {
    background-color: var(--popover);
    border-color: var(--border);
    border-radius: 0.375rem;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    padding: 0.25rem;
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker-item {
    color: var(--popover-foreground);
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-picker-item:hover {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }

  /* Tooltip styling */
  [data-slot="rich-text-editor"] .ql-snow .ql-tooltip {
    background-color: var(--popover);
    border-color: var(--border);
    color: var(--popover-foreground);
    border-radius: 0.375rem;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-tooltip input[type="text"] {
    border-color: var(--border);
    background-color: var(--background);
    color: var(--foreground);
    border-radius: 0.25rem;
  }

  [data-slot="rich-text-editor"] .ql-snow .ql-tooltip a {
    color: var(--primary);
  }

  /* Disabled state */
  [data-slot="rich-text-editor"].opacity-50 .ql-editor {
    cursor: not-allowed;
  }
}
