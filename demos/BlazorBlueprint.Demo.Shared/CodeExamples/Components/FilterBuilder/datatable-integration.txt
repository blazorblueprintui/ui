<BbFilterBuilder @bind-Filter="filter"
                 Fields="@fields"
                 OnFilterChanged="HandleFilterChanged" />

<BbDataTable TData="Person" Data="@filteredPeople" InitialPageSize="10">
    <Columns>
        <BbDataTableColumn TData="Person" TValue="string" Property="@(p => p.Name)" Header="Name" Sortable />
        <BbDataTableColumn TData="Person" TValue="int" Property="@(p => p.Age)" Header="Age" Sortable />
        <BbDataTableColumn TData="Person" TValue="string" Property="@(p => p.Role)" Header="Role" />
    </Columns>
</BbDataTable>

@code {
    private void HandleFilterChanged(FilterDefinition filter)
    {
        if (filter.IsEmpty)
        {
            filteredPeople = new List<Person>(allPeople);
        }
        else
        {
            // Client-side: compile to Func<T, bool>
            var predicate = filter.ToFunc<Person>(fields);
            filteredPeople = allPeople.Where(predicate).ToList();
        }
    }
}