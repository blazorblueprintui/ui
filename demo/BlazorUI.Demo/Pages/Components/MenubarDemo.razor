@page "/components/menubar"
@using BlazorUI.Components.Menubar

<PageTitle>Menubar Component - BlazorUI</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Menubar Component</h1>
            <p class="text-xl text-muted-foreground">
                A visually persistent menu common in desktop applications that provides quick access to a consistent set of commands.
            </p>
        </div>
    </div>

    <!-- Basic Menubar -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Basic Menubar</h2>
        <p class="text-sm text-muted-foreground">
            A menubar with common application menus like File, Edit, and View.
        </p>

        <div class="flex flex-col gap-4">
            <Menubar>
                <MenubarMenu>
                    <MenubarTrigger>File</MenubarTrigger>
                    <MenubarContent>
                        <MenubarItem OnClick="@(() => HandleAction("New Tab"))">
                            New Tab
                            <MenubarShortcut>⌘T</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("New Window"))">
                            New Window
                            <MenubarShortcut>⌘N</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("New Incognito Window"))" Disabled="true">
                            New Incognito Window
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Share"))">
                            Share
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Print"))">
                            Print...
                            <MenubarShortcut>⌘P</MenubarShortcut>
                        </MenubarItem>
                    </MenubarContent>
                </MenubarMenu>

                <MenubarMenu>
                    <MenubarTrigger>Edit</MenubarTrigger>
                    <MenubarContent>
                        <MenubarItem OnClick="@(() => HandleAction("Undo"))">
                            Undo
                            <MenubarShortcut>⌘Z</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Redo"))">
                            Redo
                            <MenubarShortcut>⇧⌘Z</MenubarShortcut>
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Cut"))">
                            Cut
                            <MenubarShortcut>⌘X</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Copy"))">
                            Copy
                            <MenubarShortcut>⌘C</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Paste"))">
                            Paste
                            <MenubarShortcut>⌘V</MenubarShortcut>
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Select All"))">
                            Select All
                            <MenubarShortcut>⌘A</MenubarShortcut>
                        </MenubarItem>
                    </MenubarContent>
                </MenubarMenu>

                <MenubarMenu>
                    <MenubarTrigger>View</MenubarTrigger>
                    <MenubarContent>
                        <MenubarItem OnClick="@(() => HandleAction("Always Show Bookmarks Bar"))">
                            Always Show Bookmarks Bar
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Always Show Full URLs"))">
                            Always Show Full URLs
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Reload"))">
                            Reload
                            <MenubarShortcut>⌘R</MenubarShortcut>
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Force Reload"))" Disabled="true">
                            Force Reload
                            <MenubarShortcut>⇧⌘R</MenubarShortcut>
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Toggle Fullscreen"))">
                            Toggle Fullscreen
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Hide Sidebar"))">
                            Hide Sidebar
                        </MenubarItem>
                    </MenubarContent>
                </MenubarMenu>

                <MenubarMenu>
                    <MenubarTrigger>Profiles</MenubarTrigger>
                    <MenubarContent>
                        <MenubarItem OnClick="@(() => HandleAction("Andy"))">
                            Andy
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Benoit"))">
                            Benoit
                        </MenubarItem>
                        <MenubarItem OnClick="@(() => HandleAction("Luis"))">
                            Luis
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Edit Profiles"))">
                            Edit...
                        </MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleAction("Add Profile"))">
                            Add Profile...
                        </MenubarItem>
                    </MenubarContent>
                </MenubarMenu>
            </Menubar>

            @if (!string.IsNullOrEmpty(lastAction))
            {
                <p class="text-sm">Last action: <strong>@lastAction</strong></p>
            }
        </div>
    </section>

    <!-- With Disabled Menu Items -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">With Disabled Items</h2>
        <p class="text-sm text-muted-foreground">
            Menu items can be disabled to indicate unavailable actions.
        </p>

        <div class="flex flex-col gap-4">
            <Menubar>
                <MenubarMenu>
                    <MenubarTrigger>Document</MenubarTrigger>
                    <MenubarContent>
                        <MenubarItem OnClick="@(() => HandleDisabledAction("New"))">New</MenubarItem>
                        <MenubarItem OnClick="@(() => HandleDisabledAction("Open"))">Open</MenubarItem>
                        <MenubarItem OnClick="@(() => HandleDisabledAction("Save"))" Disabled="true">Save (Disabled)</MenubarItem>
                        <MenubarSeparator />
                        <MenubarItem OnClick="@(() => HandleDisabledAction("Export"))">Export</MenubarItem>
                        <MenubarItem OnClick="@(() => HandleDisabledAction("Print"))" Disabled="true">Print (Disabled)</MenubarItem>
                    </MenubarContent>
                </MenubarMenu>
            </Menubar>

            @if (!string.IsNullOrEmpty(disabledAction))
            {
                <p class="text-sm">Last action: <strong>@disabledAction</strong></p>
            }
        </div>
    </section>

    <!-- Keyboard Navigation -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Keyboard Navigation</h2>
        <p class="text-sm text-muted-foreground">
            The menubar supports full keyboard navigation. Try using:
        </p>
        <ul class="text-sm text-muted-foreground list-disc list-inside space-y-1">
            <li><kbd class="px-1 py-0.5 bg-muted rounded text-xs">←</kbd> / <kbd class="px-1 py-0.5 bg-muted rounded text-xs">→</kbd> to navigate between menus</li>
            <li><kbd class="px-1 py-0.5 bg-muted rounded text-xs">↓</kbd> to open a menu</li>
            <li><kbd class="px-1 py-0.5 bg-muted rounded text-xs">↑</kbd> / <kbd class="px-1 py-0.5 bg-muted rounded text-xs">↓</kbd> to navigate menu items</li>
            <li><kbd class="px-1 py-0.5 bg-muted rounded text-xs">Enter</kbd> or <kbd class="px-1 py-0.5 bg-muted rounded text-xs">Space</kbd> to activate an item</li>
            <li><kbd class="px-1 py-0.5 bg-muted rounded text-xs">Escape</kbd> to close the menu</li>
        </ul>

        <Menubar>
            <MenubarMenu>
                <MenubarTrigger>First Menu</MenubarTrigger>
                <MenubarContent>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Item 1"))">Item 1</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Item 2"))">Item 2</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Item 3"))">Item 3</MenubarItem>
                </MenubarContent>
            </MenubarMenu>

            <MenubarMenu>
                <MenubarTrigger>Second Menu</MenubarTrigger>
                <MenubarContent>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Option A"))">Option A</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Option B"))">Option B</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Option C"))">Option C</MenubarItem>
                </MenubarContent>
            </MenubarMenu>

            <MenubarMenu>
                <MenubarTrigger>Third Menu</MenubarTrigger>
                <MenubarContent>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Choice X"))">Choice X</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Choice Y"))">Choice Y</MenubarItem>
                    <MenubarItem OnClick="@(() => HandleKeyboardAction("Choice Z"))">Choice Z</MenubarItem>
                </MenubarContent>
            </MenubarMenu>
        </Menubar>

        @if (!string.IsNullOrEmpty(keyboardAction))
        {
            <p class="text-sm">Last keyboard action: <strong>@keyboardAction</strong></p>
        }
    </section>
</div>

@code {
    private string? lastAction;
    private string? disabledAction;
    private string? keyboardAction;

    private void HandleAction(string action) => lastAction = action;
    private void HandleDisabledAction(string action) => disabledAction = action;
    private void HandleKeyboardAction(string action) => keyboardAction = action;
}
